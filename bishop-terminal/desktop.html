<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VSA CLASSIFIED TERMINAL</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- CRT Effects -->
    <div class="crt-overlay"></div>
    <div class="scanlines"></div>
    <div class="screen-flicker"></div>
    
    <!-- Memory Leak Glitch Effect -->
    <div class="glitch-overlay" id="glitch-overlay"></div>
    
    <div class="desktop">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="system-title">
                <span class="warning-icon">‚ö† </span> 
                VANTAGE SYSTEMS AUTHORITY - CLASSIFIED TERMINAL 
                <span class="warning-icon">‚ö† </span>
            </div>
            <div class="system-info">
                <span id="system-time">00:00:00</span>
                <span class="separator">|</span>
                <span>USER: AUTHORIZED</span>
                <span class="separator">|</span>
                <span>CLEARANCE: LEVEL-2</span>
                <span class="separator">|</span>
                <span class="signal-indicator" id="signal">
                    <span class="signal-dot"></span> SIGNAL: <span id="signal-strength">STRONG</span>
                </span>
            </div>
        </div>

        <!-- File Explorer -->
        <div class="file-explorer" id="file-explorer">
            <!-- Files will be generated by JavaScript -->
        </div>

        <!-- Bottom Status Bar -->
        <div class="status-bar">
            <div class="status-left">
                <span>SYSTEM STATUS: <span id="system-status">OPERATIONAL</span></span>
                <span class="separator">|</span>
                <span id="file-count">0 FILES LOADED</span>
                <span class="separator">|</span>
                <span>MEM: <span id="memory-usage">47%</span></span>
            </div>
            <div class="audit-log" id="audit-log">
                <span id="audit-text">SYSTEM READY</span>
            </div>
        </div>
    </div>

    <!-- Lock Screen Modal -->
    <div class="lock-screen" id="lock-screen">
        <div class="lock-container">
            <div class="classification-header">
                <span class="classification-level">ENCRYPTED</span>
            </div>
            <h2 id="lock-title">üîí ENCRYPTED FILE</h2>
            <p class="lock-filename" id="lock-filename"></p>
            <p class="lock-hint" id="lock-hint">Enter decryption key</p>
            <div class="decrypt-attempts" id="decrypt-attempts">
                <span>DECRYPTION ATTEMPTS: <span id="decrypt-count">0</span>/3</span>
            </div>
            <div id="lock-interface">
                <!-- Lock interface will be injected here -->
            </div>
            <p class="error-message" id="lock-error">‚ö† DECRYPTION FAILED ‚ö†</p>
            <button class="cancel-btn" onclick="closeLock()">CANCEL</button>
        </div>
    </div>

    <!-- File Viewer Window -->
    <div class="window" id="file-window">
        <div class="window-header" id="window-header">
            <div class="window-title-container">
                <div class="window-title" id="window-title">FILE VIEWER</div>
                <div class="file-metadata" id="file-metadata">
                    <span id="file-size"></span>
                    <span class="separator">|</span>
                    <span id="file-modified"></span>
                    <span class="separator">|</span>
                    <span class="classification-tag">CLASSIFIED</span>
                </div>
            </div>
            <div class="window-controls">
                <button class="window-btn minimize-btn" onclick="minimizeWindow()">_</button>
                <button class="window-btn close-btn" onclick="closeWindow()">X</button>
            </div>
        </div>
        <div class="window-content" id="window-content">
            <!-- Content will be loaded here -->
        </div>
        <div class="window-footer">
            <span class="redacted-notice">‚ö† SOME CONTENT MAY BE REDACTED</span>
        </div>
    </div>

    <!-- Warning Popup System -->
    <div class="warning-popup" id="warning-popup">
        <div class="warning-content">
            <div class="warning-header">‚ö† SYSTEM ALERT ‚ö†</div>
            <p id="warning-message"></p>
            <button onclick="closeWarning()">ACKNOWLEDGE</button>
        </div>
    </div>

    <!-- Incoming Transmission Notification -->
    <div class="notification" id="notification">
        <div class="notification-icon">üì°</div>
        <div class="notification-text" id="notification-text"></div>
    </div>

    <!-- Help Menu (F1) -->
    <div class="help-menu" id="help-menu">
        <div class="help-container">
            <div class="help-header">
                <h2>KEYBOARD SHORTCUTS</h2>
                <button class="close-btn" onclick="closeHelp()">X</button>
            </div>
            <div class="help-content">
                <div class="shortcut-row"><kbd>F1</kbd> <span>Show this help menu</span></div>
                <div class="shortcut-row"><kbd>ESC</kbd> <span>Close windows/dialogs</span></div>
                <div class="shortcut-row"><kbd>~</kbd> <span>Toggle command line mode</span></div>
                <div class="shortcut-row"><kbd>CTRL + ALT + DEL</kbd> <span>Task manager</span></div>
                <div class="shortcut-row"><kbd>CTRL + SHIFT + DEL</kbd> <span>Reset file positions</span></div>
                <div class="shortcut-row"><kbd>M</kbd> <span>Toggle ambient sound</span></div>
                <div class="shortcut-row"><kbd>RIGHT CLICK</kbd> <span>Context menu (on files)</span></div>
            </div>
        </div>
    </div>

    <!-- Command Line Mode -->
    <div class="command-line" id="command-line">
        <div class="command-container">
            <div class="command-output" id="command-output">
                <div class="command-welcome">VSA Terminal v2.47.3 - Type 'help' for commands</div>
            </div>
            <div class="command-input-line">
                <span class="command-prompt">C:\CLASSIFIED\></span>
                <input type="text" id="command-input" autocomplete="off" spellcheck="false">
            </div>
        </div>
    </div>

    <!-- Task Manager (Ctrl+Alt+Del) -->
    <div class="task-manager" id="task-manager">
        <div class="task-container">
            <div class="task-header">
                <h2>VSA TASK MANAGER</h2>
                <button class="close-btn" onclick="closeTaskManager()">X</button>
            </div>
            <div class="task-content">
                <table class="process-table">
                    <thead>
                        <tr>
                            <th>PROCESS NAME</th>
                            <th>PID</th>
                            <th>MEMORY</th>
                            <th>CPU</th>
                            <th>STATUS</th>
                        </tr>
                    </thead>
                    <tbody id="process-list">
                        <!-- Dynamically populated -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="context-menu">
        <div class="context-item" onclick="contextAction('open')">üìÇ Open</div>
        <div class="context-item" onclick="contextAction('properties')">‚ÑπÔ∏è Properties</div>
    </div>

    <!-- Audio Elements -->
    <audio id="ambient-hum" loop>
        <!-- Ambient hum placeholder -->
    </audio>
    <audio id="beep-sound"></audio>
    <audio id="error-sound"></audio>
    <audio id="typing-sound"></audio>

        <script src="js/loreContent.js"></script>
    <script src="js/fileSystem.js"></script>
    <script src="js/lock_systems.js"></script>
    <script src="js/audio_manager.js"></script>
    <script src="js/achievements.js"></script>
    <script src="js/minigames.js"></script>
    <script src="js/desktop.js"></script>
</body>
</html>